<!DOCTYPE html>
<html lang="en">
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="css/style.css" />
  <style></style>
  <head>
    <title>KeanMind JS Practice</title>
    <style>
      .switch-btn {
        background-color: #e1e1e1;
        color: black;
      }
      .is-toggled {
        background-color: #000000;
        color: white;
      }
    </style>
  </head>
  <body>
    <p>Welcome to KeanMind JS Practice</p>
    <hr />
    <ul>
      <li>
        <a href="projects/todo-list.html">To-Do List ðŸ“‹</a>
      </li>
      <li>
        <a href="projects/dom.html">DOM Manipulation ðŸ§™</a>
      </li>
      <li>
        <a href="projects/rock-paper-scissors.html"
          >Rock Paper Scissors &#x270A;&#x270B;&#x270C;</a
        >
      </li>
      <li><a href="projects/magic_ball.html">Magic Ball âš½</a></li>

      <li><a href="projects/coin-flip.html">Coin Fip ðŸª™</a></li>

      <li><a href="projects/cart_quantity.html">Cart Quantity ðŸ›’</a></li>

      <li><a href="projects/calculator.html">Calculator ðŸ§®</a></li>
    </ul>
    <hr />
    <button
      onclick="btnSwitch('.switch-js-btn-0')"
      class="switch-btn switch-js-btn-0"
    >
      Gaming
    </button>
    <button
      onclick="btnSwitch('.switch-js-btn-1')"
      class="switch-btn switch-js-btn-1"
    >
      Music
    </button>
    <button
      onclick="btnSwitch('.switch-js-btn-2')"
      class="switch-btn switch-js-btn-2"
    >
      Tech
    </button>

    <button onclick="add()">Add Msg</button>
    <button onclick="remove()">Remove Msg</button>

    <script>
      let messages = 2;
      let intervalID;
      let isDisplayingNotification = false;

      function displayTitle() {
        if (document.title === "KeanMind JS Practice") {
          document.title = `(${messages}) New Message`;
        } else {
          document.title = `KeanMind JS Practice`;
        }
      }
      displayNotification();

      function displayNotification() {
        if (isDisplayingNotification) {
          return;
        }

        isDisplayingNotification = true;
        intervalID = setInterval(displayTitle, 1000);
      }

      function add() {
        messages += 1;
        displayNotification();
      }
      function remove() {
        messages -= 1;

        if (messages === 0) {
          document.title = `App`;
          clearInterval(intervalID);
          isDisplayingNotification = false;
        }
      }

      function btnSwitch(selector) {
        const btnSwitchEl = document.querySelector(selector);
        const isToggled = btnSwitchEl.classList.contains("is-toggled");

        removePrevToggle();

        !isToggled
          ? btnSwitchEl.classList.add("is-toggled")
          : btnSwitchEl.classList.remove("is-toggled");
      }

      function removePrevToggle() {
        const prevBtn = document.querySelector(".is-toggled");
        prevBtn && prevBtn.classList.remove("is-toggled");
      }
    </script>
    <script src="js/script.js"></script>
  </body>
</html>
